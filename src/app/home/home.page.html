<circle-navbar
  title="Circles"
  color="circle-purple"
  className="pb-6 {{circles.length == 0 ? 'pt-10 px-l-2' : 'pt-4 px-l-1'}}"
>
</circle-navbar>

<ion-content
  [fullscreen]="true"
  class="{{circles.length == 0 ? 'px-c-2' : 'px-c-1'}}"
>
  <ion-list lines="none">
    <ion-item class="p-intro">
      <p>
        <ion-text color="circle-dark-grey text-small">
          Circle allows you to wipe your friends phone. They must have Stellar
          protect on their phone.
        </ion-text>
      </p>
    </ion-item>
    <ion-item>
      <p>
        <ion-text color="circle-dark-grey text-small">
          All contacts you add here are stored on your phone, and not on any
          server.
        </ion-text>
      </p>
    </ion-item>
  </ion-list>

  <ion-grid class="pt-28" *ngIf="circles.length == 0">
    <ion-row class="ion-justify-content-center banner mb-6">
      <ion-img src="assets/images/circle-banner.svg"></ion-img>
    </ion-row>

    <ion-row>
      <p>
        <ion-text color="circle-black" class="text-small">
          You don’t have any contacts added. Click on the “+” icon to add a
          contact in Circles.
        </ion-text>
      </p>
    </ion-row>
  </ion-grid>

  <ion-item lines="none" class="pt-6" *ngIf="circles.length !== 0">
    <div class="note-search">
      <ion-img
        name="search"
        class="serach-icon"
        src="assets/icon/search-lg.png"
      ></ion-img>
      <input placeholder="Search" [(ngModel)]="search" (change)="handleSearch()"/>
    </div>
  </ion-item>

  <!-- circles -->
  <contact-list [contacts]="filteredCircles" class="pt-4"></contact-list>

  <!-- add -->
  <ion-fab
    slot="fixed"
    vertical="bottom"
    horizontal="end"
    (click)="modelToggleAdd()"
  >
    <ion-fab-button>
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>

  <!-- add modal -->
  <ion-modal [isOpen]="addCircleModelVisible">
    <ng-template>
      <circle-navbar
        title="Add Contact"
        color="circle-purple"
        className="pt-10 px-l-2 pb-6"
        [hasBackButton]="true"
        (onClickBackButton)="modelToggleAdd()"
      >
      </circle-navbar>
      <ion-content class="ion-padding">
        <ion-row class="mb-8">
          <p>
            <ion-text color="circle-dark-grey" class="text-small">
              To add a Contact, please add a Nickname for your contact and their
              Wipe Token which they can see on
              <ion-text color="circle-black" class="font-md"
                >Stellar Protect</ion-text
              >
              app.
            </ion-text>
          </p>
        </ion-row>

        <ion-list lines="none">
          <p class="label">
            <ion-text color="circle-black">Nickname</ion-text>
          </p>
          <ion-item class="mb-6">
            <ion-input
              placeholder="Enter a nickname"
              color="circle-black"
              [(ngModel)]="circleNameAdd"
            ></ion-input>
          </ion-item>
          <p class="label">
            <ion-text color="circle-black">Wipe Auth Token</ion-text>
          </p>
          <ion-item class="mb-6">
            <ion-input
              placeholder="Wipe Auth Token"
              color="circle-black"
              [(ngModel)]="circleToken"
            ></ion-input>
          </ion-item>
        </ion-list>

        <circle-button
          value="Add Contact"
          className="radius-2 font-md text-md"
          color="circle-green"
          (onClick)="addCircle()"
        ></circle-button>
        <p class="mt-6">
          <ion-text color="circle-dark-grey">
            * A contact is only stored on your phone, and not on any server.
          </ion-text>
        </p>
      </ion-content>
    </ng-template>
  </ion-modal>
</ion-content>
